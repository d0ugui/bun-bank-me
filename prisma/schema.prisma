generator client {
  provider   = "prisma-client"
  output     = "./generated"
  engineType = "client"
  runtime    = "bun"
}

datasource db {
  provider = "postgresql"
}

enum Role {
  ADMIN
  USER

  @@map("role")
}

model Account {
  id       String @id @default(uuid()) @db.Uuid
  name     String
  email    String @unique
  password String
  role     Role

  @@map("accounts")
}

model Payable {
  id           String   @id @default(uuid()) @db.Uuid
  value        Float    @default(0)
  emissionDate DateTime @default(now())
  assignorId   String   @db.Uuid()

  assignor Assignor @relation(fields: [assignorId], references: [id])

  @@map("payables")
}

model Assignor {
  id       String    @id @default(uuid()) @db.Uuid
  document String    @unique
  email    String    @unique
  phone    String    @unique
  name     String
  payables Payable[]

  @@map("assignors")
}
